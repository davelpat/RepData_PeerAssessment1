---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---

```{r load_libs}
require("dplyr")
require("lubridate")
```

## Loading and preprocessing the data

Read the data from the [fork of the course git repository][1]. The repository was originally forked from [Reproducable Research Coursera repository][2] on May 4, 2015. The "steps" variable is of type integer with missing values represented as "NA". The "date" variable format is "yyyy-mm-dd" and the "interval" variable format is "hhmm" with leading zeros dropped. "date" and "interval" variables have no missing values. As the data are read in, the "date" and "interval" variables are combined to create a "date.timstamp" variable with the format of "yyyy-mm-dd hh:mm:ss". During the date timestamp generation, the "interval" variable is prepended with leading zeros as needed. The data is cached to improve iteration processing time.

```{r cache=TRUE}
activity <- tbl_df(read.csv("activity.csv")) %>%
  mutate(date.timestamp = ymd_hm(sprintf("%10s %04d", date, interval)))
```

## What is mean total number of steps taken per day?

Here is the frequency distribution of the total number of steps taken each day of the study.

```{r mean_and_median, cache=TRUE}
daily.steps.count <- activity %>% 
                     group_by(date) %>% 
                     summarize(step.cnt = sum(steps, na.rm = TRUE))
hist(daily.steps.count$step.cnt,
     xlab = "Total Daily Steps",
     ylab = "Frequency in Days",
     main = "Frequency Distribution of Total Daily Steps")
daily.steps.mean <- round(mean(daily.steps.count$step.cnt), 2)
daily.steps.median <- median(daily.steps.count$step.cnt)
```

The ***mean*** number of steps taken each day is **`r daily.steps.mean`** and the ***median*** is **`r daily.steps.median`** steps.

## What is the average daily activity pattern?

Here is a graph of the daily activity averaged across all the days of the study. The x-axis is the interval and is congruent with military time, i.e. 500 is 5 AM and 1500 is 3 PM.

```{r cache=TRUE}
interval.mean.steps <- activity %>% 
                       group_by(interval) %>% 
                       summarize(interval.mean = mean(steps, na.rm = TRUE))
with(interval.mean.steps, 
     plot(interval.mean ~ interval, 
            type = "l",
            xlab = "Interval",
            ylab = "Average Steps per Interval",
            main = "Average Daily Activity")
     )
       
max.interval <- with(interval.mean.steps,
                     interval.mean.steps[interval.mean == max(interval.mean),]
)
```

The interval with the greatest average steps is **`r max.interval$interval`**.

## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?

### Links
[1] https://github.com/davelpat/RepData_PeerAssessment1
[2] http://github.com/rdpeng/RepData_PeerAssessment1
